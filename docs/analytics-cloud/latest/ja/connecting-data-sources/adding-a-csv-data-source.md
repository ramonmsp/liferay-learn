# CSVデータソースを追加する

CSVファイルから連絡先のプロフィールデータをインポートして、ユーザーの業界、職種、年収など、ビジネスにとって重要なメトリクスに関連した追加データで顧客プロフィールを充実させることができます。 データベースに顧客プロフィールデータがある場合や、Webフォームで収集した場合は、CSVファイルにエクスポートすることができます。

```{important}
The CSV files must have an email column.
```

CSVファイルから連絡先データを統合する方法をご紹介します。

1.  *データ ソース* ページで、 *データ ソースの追加*をクリックします。 データソースの種類を示すページが表示されます。

2.  *CSVファイル* アイコンを選択します。 *CSVファイル* のアップロードページが表示されます。

3.  *CSVファイル* をアップロードするには、アップロードエリアにドラッグするか、ファイルシステムからブラウズして選択してください。 ［次へ］をクリックしてファイルをアップロードします。 CSV の設定画面が表示されます。

4.  CSV ファイルのデータソースに関する詳細とメタデータを設定し、完了したら [次へ] をクリックします。

      - *名前：* データ ソースの名前を入力します。
      - *コンテキスト：* 連絡先データがどこから来たものかを記述するコンテキストを選択します。 コンテキストを選択すると、データをさらに説明するためのフィールドが表示されます。
      - *データのプレビューを表示します：* 生データを表形式で表示します。 うまくフォーマットされていない場合は、CSVファイルのフォーマットを調整してください。

5.  [連絡先データのマッピング](#コンタクトデータのマッピング) の手順に従って、CSV ファイルから Analytics Cloud の連絡先データモデルに連絡先データをマッピングします。 データをマッピングしたら、［次へ］ をクリックします。

![CSVファイルのデータソースを設定する際に、データのコンテキストを記述したり、データを表示したりして、正しくフォーマットされているかどうかを確認することができます。](adding-a-csv-data-source/images/01.png)

連絡先プロフィールデータの同期を開始します。 同期にかかる時間は、連絡先の数によって異なります。

## コンタクトデータのマッピング

Analytics Cloudでは、連絡先のプロフィールフィールドを統一された顧客データモデルにマッピングすることができます。 デフォルトのモデルでスタートします。 コンタクトデータをマッピングするプロセスは、データソースの種類によって異なります。 同期する連絡先を選択すると、Analytics Cloudは、データソース（Liferay DXPやCSVなど）から連絡先のデータフィールドを統合された連絡先データモデルにマッピングするように最善を尽くします。

Analytics Cloudでは、いくつかのコンタクト データ マッピング オプションが用意されています。

  - 最も適切なデータモデルフィールドを選択する-Analytics Cloudは、一致する可能性のあるデータモデルを提案します。
  - 新しいカスタムデータモデルフィールドを追加し、それにソースデータをマッピングします。
  - 複数のデータソースから同じデータモデルフィールドにソースフィールドをマッピングします。

<!-- end list -->

```{note}
If you map source fields from multiple data sources to the same model field, the latest modified value is used.
```

ソース・フィールドをデータ・モデルにマッピングすると、データ・モデルのフィールドを検索して選択したり、提案されたフィールドを使用したり、新しいカスタム・フィールドを作成したりすることができます。

![Analytics Cloudでは、適切なデータモデルフィールドの検索や提案が容易になります。](adding-a-csv-data-source/images/02.png)

ここでは、カスタムコンタクトデータのモデルフィールドを作成する方法をご紹介します。

1.  データモデルフィールドのセレクタをクリックします。

2.  *新しいフィールド*をクリックします。 新しいフィールドを作成するためのダイアログが表示されます。

3.  ダイアログで、新しいフィールドに名前を付け、そのタイプを選択します。

4.  [作成]をクリックします。

カスタムモデルフィールドをソースフィールドにマッチさせる準備ができています。

![新しいモデルフィールドを作成します。](adding-a-csv-data-source/images/03.png)

データのマッピングが終わったら、Doneボタンをクリックします。
