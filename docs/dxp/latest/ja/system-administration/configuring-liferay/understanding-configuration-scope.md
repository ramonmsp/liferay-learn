# 構成スコープについて

Liferay DXPのサービスとアプリケーションの設定は、4つのレベルのいずれか、または *スコープ*（システム、仮想インスタンス、サイト、またはウィジェット）で適用されます。 システム設定で行われた設定は、システムスコープレベルで設定されます。 システム以外のラベルが付いたスコープの場合、システム設定値がデフォルトとして機能します。 つまり、システム全体の設定が上書きされる場所を特定します。 真のシステムスコープの構成（カテゴリの *System Scope* 見出しの下にあるもの）は、どこでも上書きされません。

<!-- Ideally, I think it would be more helpful for the below image to be a diagram that represents the relationship scopes have to one another. -->

![一部のシステム設定カテゴリは、複数のスコープのエントリを保持します。](./understanding-configuration-scope/images/02.png)

## スコープの定義

**システムスコープ：** システムスコープのエントリに対して行われた構成は、システム全体でのアプリケーションの最終的な値です。 それらはシステム全体に影響を与え、他の場所で上書きされません。

![一部のシステム設定エントリは、システムスコープです。](./understanding-configuration-scope/images/01.png)

**仮想インスタンスのスコープ：** 仮想インスタンスレベルでの構成は、インスタンス設定で上書きされます。

![一部のシステム設定は仮想インスタンススコープです。](./understanding-configuration-scope/images/05.png)

**サイトスコープ：** このスコープでの構成は、各サイトで上書きされます。

![一部のシステム設定はサイトスコープです。](./understanding-configuration-scope//images/03.png)

**ウィジェットスコープ：** このスコープでの構成は、各ウィジェットインスタンスでオーバーライドされます。

![一部のシステム設定エントリはウィジェットスコープです。](./understanding-configuration-scope/images/04.png)

## 例：ブログのコメントの構成とオーバーライド

システム設定で変更された構成が別のスコープでも構成可能な場合、システム設定値は上書き可能なデフォルトです。 より詳細なスコープで構成の変更が行われると、システムレベルでの変更は何もしません。

たとえば、コメントの許可はブログウィジェットごとに設定できます。

1.  コントロールパネル→構成→システム設定→ブログ（コンテンツとデータカテゴリ内）でデフォルトの動作を設定します。
2.  ウィジェットスコープの下のブログエントリで、[ *コメントを有効にする* チェックボックスをオフにします。
3.  サイトのコンテンツ & データ→ブログアプリケーションにブログエントリを追加します。
4.  パブリックページに移動し、ブログウィジェットをページに追加します。
5.  ウィジェットの[オプション]ボタン（![Options](../../images/icon-app-options.png)）をクリックし、[ *構成*]を選択します。

同じ[コメントを有効にする]チェックボックスが表示され、デフォルトはfalse（オフ）になっています。 ウィジェット構成のボックスをチェックすると、システム設定エントリが上書きされます。 システム設定の構成を変更しても、このウィジェットには影響がありません。

![ウィジェット自体からウィジェットスコープのシステム設定を上書きします。](./understanding-configuration-scope/images/06.png)

## システム設定とインスタンス設定

インスタンス設定システム設定に似ていますが、仮想インスタンススコープでアプリケーションとサービスを構成します。 システム設定と同様に、インスタンス設定の構成エントリに、 *デフォルト値にリセット* するオプションがあります。 これにより、インスタンス設定で、指定したカスタム構成が削除され、システムスコープの現在の値（デフォルトまたはカスタム）が仮想インスタンススコープのデフォルトになります。
