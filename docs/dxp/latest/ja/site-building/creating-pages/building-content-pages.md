# コンテンツページの構築

[コンテンツページを追加](./adding-a-page-to-a-site.md)したら、さまざまな[コンテンツページ要素](./content-pages-overview.md)を追加して構成することにより、ページの作成を開始できます。

## コンテンツページへの要素の追加

コンテンツページの作成を開始するには：

1.  コンテンツページのSite Builderビューに入ります。 製品メニューを開き、サイトのメニューから*[Site Builder]* → *[Pages]* に移動します。

    ![[Site Builder]メニューで新しいコンテンツページを編集することから始めます。](building-content-pages/images/01.png)

    ![コンテンツページは、最初は空白です。 ページを作成するには、フラグメントを追加する必要があります。](./building-content-pages/images/02.png)

    ```{note}
    新しいコンテンツページは空で始まり、*下書き*ステータスになります。 ページは公開されるまで表示されません。
    ```

2.  コンテンツページのサイドバーを開き、ページフラグメント要素の追加を開始します。

    ![ページにフラグメントを追加して、必要なモックアップを作成します。](./building-content-pages/images/03.png)

3.  ページフラグメントの編集可能な部分を設定して、コンテンツページの外観をカスタマイズします。 要素は、次のいくつかの方法で設定できます。

      - [背景色の設定](#setting-a-background-color)
      - [背景画像の使用](#using-a-background-image)
      - [テキストの編集](#editing-text)
      - [ハイパーリンクの編集](#editing-a-hyperlink)
      - [フラグメントのコピー](#copying-a-fragment)
      - [間隔の調整](#adjusting-spacing)
      - [一般設定](#general-configuration)
      - [コンテンツのマッピング](#mapping-content)

    ![フラグメントを変更して、必要なコンテンツを表示します。](./building-content-pages/images/04.png)

    ```{tip}
    コンテンツページで進行中の作業は自動的に保存されます。
    ```

4.  右上の*[Publish]* ボタンをクリックして、更新をライブページで利用できるようにします。

## コンテンツページで要素を設定する

コンテンツページに追加できる多くの要素は、構成およびカスタマイズできます。 要素をクリックすると、選択した要素で使用可能な構成にアクセスできる管理ツールバーが提供されます。

### 背景色の設定

レイアウトの背景色を設定できます。 次の手順を実行します：

1.  レイアウトをクリックして選択します。
2.  （![Background Color](../../images/icon-color.png)）アイコンをクリックして色を選択します。

![レイアウトの背景色を設定できます。](./building-content-pages/images/05.png)

```{note}
使用可能なカラーパレットは、フラグメント開発者が設定できます。 詳細については、Fragment Configuration Typesを参照してください。
```

### 背景画像の使用

レイアウトの背景画像を設定できます。 次の手順を実行します：

1.  レイアウトをクリックして選択します。

2.  *[Layout Background Image]* を選択し、表示する画像を選択します。

    ![レイアウトには、背景色、背景画像、間隔のオプションがあります。](./building-content-pages/images/06.png)

    ```{note}
    レイアウトの背景画像のマッピングは、Liferay DXP 7.2 SP1+およびLiferay Portal 7.2 GA2+で使用できます。
    ```

### テキストの編集

1.  編集するテキストをクリックします。
2.  プレーンテキストの場合はテキストを置き換えるか、インラインテキストエディターを使用してリッチテキストスタイル、印刷上の強調、配置、およびリストの書式を更新します。

![編集可能なテキストを変更できます。](./building-content-pages/images/07.png)

### ハイパーリンクの編集

1.  編集するリンクまたはボタンをクリックします。

2.  リンクテキストを編集する場合は（![Edit](../../images/icon-edit.png)）をクリック、リンクプロパティを編集する場合は（![Link](../../images/icon-link.png)）をクリック、リンクマッピングを編集する場合は（<2 />）をクリックします（前述のとおり）。

    リンクプロパティのポップアップから、以下のリンクオプションを定義できます。

    *Manual：*手動リンクを定義するか、既存のコンテンツフィールドにマッピングします

      - * URL：*リンクのURLを設定します
      - *Target：*リンクの動作を設定します

    *[From Content]フィールド：*

      - *Content：*コンテンツタイプを設定します
      - *Field：*選択したコンテンツに対して表示するフィールドを設定します

    使用可能なコンテンツフィールドの一部のリストを以下に示します。

      - Categories
      - Tags
      - Display Page URL
      - Description
      - Publish Date
      - Summary
      - Title
      - Last Editor Name
      - Author Name
      - Basic Web Content

![編集可能なリンクを変更できます。](./building-content-pages/images/08.png)

### フラグメントのコピー

ページにフラグメントを複製して時間を節約できます。 次の手順を実行します：

1.  コピーするフラグメントにカーソルを合わせます。
2.  フラグメントをクリックして選択します。
3.  表示されるコンテキストメニューの[Duplicate Fragment]ボタンをクリックします。

![ページ上でフラグメントを複製できます。](./building-content-pages/images/09.png)

### 間隔の調整

[レイアウト](./content-pages-overview.md#layouts)に複数の列がある場合、列の間隔を調整してカスタムレイアウトを作成できます。 次の手順を実行します：

1.  レイアウトをクリックして選択します。 各列の間にサイズを変更できることを示す青い点が表示されます。
2.  青い点の1つをクリックし、左または右にドラッグして、列のサイズを調整します。

![レイアウトの列の間隔を調整して、カスタムレイアウトを作成できます。](./building-content-pages/images/10.png)

```{note}
レイアウトには同じ数の列が含まれている必要があります。 ドラッグして列を削除することはできません。 必要な列数のレイアウトを選択し、必要に応じてサイズを再調整してください。
```

### 一般設定

一部の初期設定のフラグメントで使用できます。 このメニューオプションは、コンテキスト固有のフラグメント設定を表示します。 これらの設定のリファレンスについては、Basic Component Configuration Referenceを参照してください。

### コンテンツのマッピング

これらの要素をコンテンツにマップすることもできます。 要素に*コンテンツ*（Webコンテンツの記事、ドキュメント、またはブログ）を設定し、表示する適切な*フィールド*（タイトル、作成者名、タグなど）を選択できます。 これは、要素の*マップ*ボタン（![Map](../../images/icon-map.png)）を選択して設定できます。

```{note}
多くのマッピングの改善が Liferay DXP 7.2 SP1+およびLiferay Portal 7.2 GA2+でリリースされました。 たとえば、編集可能な要素を既存のコンテンツのテキスト/URLフィールドにマッピングしたり、フラグメントの背景画像を既存のコンテンツの画像フィールドにマッピングしたりできます。 カスタムフィールドをマップすることもできます。
```

コンテンツページを作成するときに、ユーザーセグメントに基づいてユーザー向けにさまざまな**エクスペリエンス**を作成できます。 既存のユーザーセグメントのコンテンツページに、独自のエクスペリエンスを作成できます。 詳細については、[Content Page Personalization guide](../personalizing-site-experience/experience-personalization/content-page-personalization.md)を参照してください。

## 追加情報

  - Developing a Page Fragment
  - Using Master Pages
  - [Changing Content Pages Look and Feel](./content-pages-overview.md#look-and-feel)
