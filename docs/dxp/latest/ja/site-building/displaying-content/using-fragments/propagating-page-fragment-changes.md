# ページフラグメントの変更の伝播

デフォルトでは、ページフラグメントに行われた更新が自動的に表示されません [コンテンツページ](../../creating-pages/content-pages-overview.md)、 [ページテンプレートコンテンツ](../../creating-pages/adding-pages/creating-a-page-template.md)、および [の表示ページ](../using-display-page-templates/creating-and-managing-display-page-templates.md) それらを使用しています。 手動で変更を伝播する必要があります。 これにより、ページ作成者が知らなくてもページが自動的に更新されなくなります。 ただし、ワークフローを有効にしていない場合、または開発中に変更をテストする場合は、自動伝播を有効にすることができます。 詳細については、 [自動ページフラグメント伝播の有効化](#enabling-automatic-page-fragment-propagation) を参照してください。

## ページフラグメントの変更を手動で伝播する

1.  製品メニューを開き、サイト → *サイトビルダー* → *ページフラグメント* に移動します。

2.  変更されたページフラグメントを含むコレクションを選択します。

3.  *アクション* メニューを開きます（![アクション](../../../images/icon-actions.png)）ページフラグメントを選択し、[ *View Usages*]を選択します。

    ```{note}
    変更をグローバルなページフラグメントから子サイトでの使用に伝達できます。 グローバルサイトのページフラグメントのアクションメニューから[*サイトの使用状況を表示*]を選択します。
    ```

4.  *Usages and Propagation* ページから、Page Fragmentの変更が伝播するコンテンツページ、コンテンツページテンプレート、および表示ページを選択します。 さまざまなフィルターと選択オプションを使用して、更新をページにすばやく適用できます。

    ![[使用法と伝播]ページには、伝播によって更新されたページが表示されます。](./propagating-fragment-changes/images/01.png)

5.  *伝播* アイコン（![Propagate](../../../images/icon-propagate.png)）をクリックして、変更を伝播します。

<!-- end list -->

```{note}
既存の「編集可能」フィールドへの変更は、現在コンテンツページにあるコンテンツを上書きするため、反映されません。 「編集可能」フィールドのコンテンツへの伝播を強制するには、フィールドIDを変更する必要があります。 そのフィールドで作成されたコンテンツは、変更が反映されるときにコンテンツページに表示されなくなりますが、データベースに残り、古いIDを使用して取得できます。
```

## 自動ページフラグメント伝達の有効化

> 可用性：Liferay DXP 7.2 SP1 +およびLiferay Portal CE GA2 +

開発テスト中、ページフラグメントの変更を手動で伝達するのは面倒な場合があります。 開発目的で、ページフラグメントの自動伝達を有効にすることができます。

```{warning}
ページフラグメントの自動伝達は、開発テストでのみ有効にする必要があります。自動伝達は、タイプミスや公開されている不正確なコンテンツなど、本番環境で予期しない結果を招く可能性があるためです。 自動伝播は、HTML、CSS、およびJavaScriptのページフラグメントコードでのみ機能し、編集可能な値では機能しません。
```

次の手順に従って、自動ページフラグメント伝達を有効にします。

1.  製品メニューを開き、 *コントロールパネル* → *構成* → *システム設定*ます。

2.  [コンテンツとデータ]見出しの下の[ *ページフラグメント* ]クリックします 。

3.  *フラグメントの変更を自動的に反映* 設定を有効にし、 *保存* をクリックして変更を適用します。

![ページフラグメントの伝達を有効にすると、開発者はページフラグメントの変更をすべてのページに自動的に伝達できます。](./propagating-fragment-changes/images/02.png)

ページフラグメントの更新が自動的に反映されるようになりました\！ ページフラグメントエディターは、ページフラグメントの自動伝達が有効になっているという通知を表示します。

![自動伝播が有効になると通知されます。](./propagating-fragment-changes/images/03.png)
