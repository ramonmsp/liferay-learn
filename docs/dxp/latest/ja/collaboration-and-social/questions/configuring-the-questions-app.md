# 質問アプリの設定

質問アプリを設定するには、主に2つの方法があります。アプリの設定を直接使用する方法と、システム設定の構成を使用する方法です。

アプリケーションを介して設定するには、

1.  アプリの[オプション]アイコン（![Options icon](../../images/icon-options.png)）をクリックし、*[設定]* をクリックします。

    ![アプリの設定リンクをクリックします。](./configuring-the-questions-app/images/01.png)

システム設定から設定するには、

1.  *[コントロールパネル]* → *[システム設定]* → *[サードパーティー]* に移動します。

2.  ウィジェットスコープの下の *[質問]* をクリックします。

    ![システム設定で質問アプリの設定に移動します。](./configuring-the-questions-app/images/05.png)

## トピックの表示スタイル

トピックは、カードまたは一覧として表示できます。

1.  アプリの[オプション]アイコン（![Options icon](../../images/icon-options.png)）をクリックし、*[設定]* をクリックします。

    ![アプリの設定リンクをクリックします。](./configuring-the-questions-app/images/01.png)

2.  [一般設定]の下に、[Show Cards for Topic Navigation]オプションがあります。

これがオンになっている場合、アプリは質問トピックごとに別々のカードを表示します。 オンになっていない場合、アプリはすべての質問の一覧を表示します。

![設定ウィンドウが開き、さまざまなオプションが表示されます。](./configuring-the-questions-app/images/02.png)

## トピック表示の制限

質問のデフォルトの表示動作は、すべてのトピックを表示することです。 ルートトピックを設定することにより、特定のトピックのみを表示するように選択できます。 特定のサブトピックまたは質問のみを表示するには、次の手順を実行します。

1.  アプリの[オプション]アイコン（![Options icon](../../images/icon-options.png)）をクリックし、*[設定]* をクリックします。

    ![アプリの設定リンクをクリックします。](./configuring-the-questions-app/images/01.png)

2.  [ルートトピックID]の下の*[Select]* ボタンをクリックします。

    ![ルートトピックとして個々のトピックを選択します。](./configuring-the-questions-app/images/03.png)

3.  トピックを選択し、*[保存]* をクリックします。 アプリは、選択したトピックのサブトピックと質問のみを表示するようになりました。

## アプリの権限の管理

アプリの権限を変更するには、

1.  アプリの[オプション]アイコン（![Options icon](../../images/icon-options.png)）をクリックし、*[権限設定]* をクリックします。

    ![アプリの設定リンクをクリックします。](./configuring-the-questions-app/images/01.png)

2.  新しいウィンドウが開きます。

    ![このページでさまざまなロールに権限を割り当てます。](./configuring-the-questions-app/images/04.png)

3.  さまざまなロールに権限を割り当てます。 *[保存]* をクリックします。

## ゲストユーザーをログインにリダイレクトする

この機能を有効にするには、システム設定から構成する必要があります。

1.  *[コントロールパネル]* → *[システム設定]* → *[サードパーティー]* に移動します。

2.  ウィジェットスコープの下の *[質問]* をクリックします。

    ![システム設定で質問アプリの設定に移動します。](./configuring-the-questions-app/images/05.png)

3.  *[ログインへのリダイレクトを有効にする]* をオンにします。

4.  ゲストユーザーが*[質問する]* をクリックしようとすると、ログインページにリダイレクトされるようになりました。

<!-- end list -->

```{note}
ゲストユーザーがアプリを表示できるようにするには、サービス・アクセス・ポリシーを作成する必要があります。
```

### ゲストビューアを許可するサービス・アクセス・ポリシーの作成

新しいポリシーを作成するには、

1.  *[コントロールパネル]* → *[サービス・アクセス・ポリシー]* に移動します。 *追加*アイコン（![Add icon](../../images/icon-add.png)）をクリックします。

2.  ポリシーに名前とタイトルを付けます。 下部にある*[詳細モードに切り替え]* ボタンをクリックします。 [サービスシグネチャーを許可]の下に次の2つの署名を追加します。

    ``` java
    com.liferay.message.boards.service.MBCategoryService#getCategoriesCount
    com.liferay.message.boards.service.MBCategoryService#getCategory
    ```

    ![新しいポリシーを作成し、署名を追加します。](./configuring-the-questions-app/images/06.png)

3.  *[保存]* をクリックして新しいポリシーを保存します。

## システム設定リファレンス

| 設定                              | 説明                                                                        |
| ------------------------------- | ------------------------------------------------------------------------- |
| Show Cards for Topic Navigation | これがオンになっている場合、アプリは質問トピックごとに別々のカードを表示します。 オンになっていない場合、アプリはすべての質問の一覧を表示します。 |
| Use Topic Names in URL          | これをオンにすると、トピックID番号の代わりに、フレンドリURLで各トピック名が使用されます。                           |
| ルートトピックID                       | この設定は無視されます。                                                              |
