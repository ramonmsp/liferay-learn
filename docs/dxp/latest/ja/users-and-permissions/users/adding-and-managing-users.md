# ユーザーの追加と管理

コアユーザー管理アクティビティには、ユーザーの追加、編集、削除が含まれます。 これらのアクティビティは通常、管理ユーザーに制限されています。

## ユーザーの追加

1.  製品メニューから、*[Control Panel]* → *[Users]* → *[Users and Organizations]* をクリックします。

2.  [Users]タブで、*追加*ボタン（![Add](../../images/icon-add.png)）をクリックします。

    ![コントロールパネルの[Users and Organizations]セクションからユーザーを追加します。](./adding-and-managing-users/images/01.png)

3.  ユーザーの追加フォームに入力して、*[保存]* をクリックします。 少なくとも、ユーザーの画面名、名、姓、および電子メールアドレスを入力します。

    ```{note}
    スクリーンネームとメールアドレスは互換性がありません。 画面名はユーザーのプライベートページへのURLで使用されるため、画面名に「@」記号を含めることはできません。

    ユーザーの追加機能は、いくつかの独立したフォームに分割されています。 最初のフォームを保存してユーザーを作成すると、「Success. Your request completed successfully.」という成功メッセージが表示されます。
    ```

ユーザーを作成したら、追加の情報を追加できます。

### 新規ユーザーのパスワードを設定する

ユーザーを作成すると、Liferay DXPがユーザーのパスワードを生成します。 メールサーバーが[セットアップ](../../installation-and-upgrades/setting-up-liferay/configuring-mail.md)されている場合、Liferay DXPはユーザーの新しいパスワードを含む電子メールメッセージを送信します。

メールサーバーを設定していない場合は、[General]メニューの*[Password]* 項目をクリックして、新しいユーザーのパスワードを手動で設定します。 新しいパスワードを2回入力します。

![ユーザーのパスワードを手動で設定するには、パスワードを2回入力します。 使用しているパスワードポリシーが許可するように構成されている場合は、ユーザーが初めてポータルにログインしたときにパスワードのリセットを要求するかどうかを選択します。](./adding-and-managing-users/images/03.png)

## ユーザーの編集

1.  コントロールパネルから*[Users and Organizations]* をクリックします。

2.  編集するユーザーの横にある*アクション*ボタン（![Actions](../../images/icon-actions.png)）をクリックします。

3.  次のオプションを使用できます。

| オプション                | 説明                                                                                              |
| -------------------- | ----------------------------------------------------------------------------------------------- |
| Edit                 | ユーザーアカウントの任意の側面を変更します。                                                                          |
| Permissions          | ユーザーを編集する権限を持つロールを定義します。                                                                        |
| Manage Pages         | ユーザーの個人用ページを設定します。                                                                              |
| Impersonate User     | あなたがそのユーザーであるかのように、別のウィンドウでサイトを閲覧します。                                                           |
| Deactivate           | [ユーザーのアカウントを無効にします](#deactivating-users) 。                                                      |
| Erase Personal Data  | [ユーザーの個人データを削除します](../managing-user-data/sanitizing-user-data.md)。 |
| Export Personal Data | [ユーザーの個人データをダウンロードします](../managing-user-data/exporting-user-data.md)。            |

## ユーザーの非アクティブ化と削除

ユーザーの削除は、いくつかの理由で2段階のプロセスで行います。

  - あなたまたはユーザーが本当はそのアカウントが必要であると判断する可能性があります。
  - 多くの場合、ユーザーはあなたの国で[法律上面倒な問題](../managing-user-data.md)が発生する可能性のあるコンテンツに関連付けられています。
  - ユーザーの存在の証拠をすべて削除する前に、ユーザーのアカウントアクティビティを確認する時間が必要な場合があります。

これらの理由やその他の理由により、ユーザーを*削除*する前に、まずユーザーを*非アクティブ化*する必要があります。

### ユーザーの非アクティブ化

ユーザーを非アクティブ化すると、ユーザーはログインできなくなりますが、そのユーザーは保持されます。 ユーザービューでアクティブユーザーと非アクティブユーザーを切り替えることができます。 すべてのユーザーがアクティブな場合、このフィルタリングオプションは表示されません。

ユーザーを非アクティブ化するには、

1.  *[Control Panel]* → *[Users]* → *[Users and Organizations]* に移動して、非アクティブ化するユーザーを見つけます。
2.  ユーザーの*アクション*（![Actions](../../images/icon-actions.png)）メニューをクリックし、*[Deactivate]* を選択します。

これでユーザーは非アクティブになり、ログインできなくなります。 [Users]テーブルでユーザーを見つけ（非アクティブ化されたユーザーでテーブルの結果をフィルタリングしてください）、アクションメニューをクリックして*[Activate]* を選択することで、ユーザーを再度アクティブ化できます。 アクティベーションの確認ウィンドウはありません。[Activate ]をクリックすると、自動的に以前のステータスに戻ります。

### ユーザーの削除

ユーザーを誤って削除しないよう、まずユーザーを非アクティブ化してから、削除する必要があります。

1.  ユーザーを非アクティブにします。

2.  テーブルの上部にある*[Filter and order]* をクリックすると、セレクターが表示されます。 *[Inactive]* をクリックすると、非アクティブ化したユーザーが表示されます。

    ![ユーザーを削除するには、まず無効なユーザーまたは非アクティブなユーザーをフィルタリングして表示します。](./adding-and-managing-users/images/05.png)

3.  もう一度アクションメニューをクリックし、本当にユーザーを削除する場合は*[Delete]* をクリックします。

ユーザーが削除されます。 以前に削除したユーザーを以前のバックアップから復元する以外に復元する方法はありません。

## 偽装ユーザー

ユーザーになりすまして、ユーザーに表示されるようにシステムを表示できます。 これは、ユーザーが機密情報にアクセスできないことを確認する場合など、管理者が見ることができない権限の問題を診断するのに役立ちます。 管理者のロールを持つユーザーのみが偽装できます。

1.  [Control Panel] → *[Users and Organizations]* をクリックして、ユーザーのリストを表示し、偽装するユーザーを見つけます。
2.  そのユーザーの*アクション*ボタン（![Actions](../../images/icon-actions.png)）をクリックします。
3.  *[Impersonate User]* をクリックします。

そのユーザーとしてログインしている別のブラウザーウィンドウが開きます。

## ユーザーパスワードのリセット

ユーザーの追加機能には、パスワードフォームの下部に*[Require Password Reset]* チェックボックスがあります。 デフォルトのパスワードポリシーでは、管理者はこのオプションを選択解除できません。 ただし、デフォルトのパスワードポリシーを変更して、このボックスを使用可能にすることができます。

1.  [Control Panel] → [Users]の*[Password Policies]* に移動します。
2.  *[Default Password Policy]* をクリックします。
3.  [Password Changes]セクションで*[Change Required]* スイッチャーの選択を解除します。 ここで、追加したユーザーがパスワードをリセットする必要があるかどうかを決定できます。

デフォルトポリシーの編集または独自のポリシーを作成する詳細については、[Password Policies](../roles-and-permissions/configuring-a-password-policy.md)を参照してください。

## 関連情報

  - [Understanding Users](./understanding-users.md)
  - [Authentication Basics](../../installation-and-upgrades/securing-liferay/authentication-basics.md)
  - [Connecting to an LDAP Directory](../connecting-to-a-user-directory/connecting-to-an-ldap-directory.md)
