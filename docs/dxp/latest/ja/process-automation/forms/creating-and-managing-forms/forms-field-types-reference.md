# フォームフィールドタイプのリファレンス

この記事では、フォームを作成するときに使用できる要素について説明します。

1.  *プロダクトメニュー*（![Product Menu](../../../images/icon-product-menu.png)）を開き、サイト管理メニューのコンパスアイコン（![Compass](../../../images/icon-compass.png)）をクリックします。 フォームを作成するサイトを選択します。
2.  *[Content & Data]* → *[Forms]* の順にクリックします。
3.  *追加*ボタン（![Add](../../../images/icon-add.png)）をクリックします。 フォームビルダービューが表示されます。
4.  *追加*ボタン（![Add](../../../images/icon-add.png)）をもう一度クリックして、*[要素を追加]* サイドバーを表示します（まだ開いていない場合）。

![すぐに使用できる便利なフォーム項目のタイプが多数あります。](./forms-field-types-reference/images/01.png)

## フィールド設定の概要

フォームビルダーで新しいフィールドを追加したり、既存のフィールドをクリックすると、フィールド設定エディタのサイドバーが表示されます。 使用できる設定オプションは、フィールドタイプによって異なります。

すべてのフォームフィールドには、ベーシックとアドバンスの少なくとも2つの設定タイプがあります。 多くのフォームは、ラベル、[プレースホルダーテキスト、ヘルプテキスト](../creating-and-managing-forms/providing-help-text-and-predefined-values.md)、フィールドが必須かどうかなどの基本的な構成だけで[作成](../creating-and-managing-forms/creating-forms.md)できます。 さらにフィールド固有の設定もあります。

![[リストから選択]フィールドには、いくつかの基本設定があります。](./forms-field-types-reference/images/15.png)

詳細設定には、[定義済みの値](../creating-and-managing-forms/providing-help-text-and-predefined-values.md)、検索設定、フィールドを繰り返し使用するかどうか、読み取り専用のフィールドIDなどがあります。 さらにフィールド固有の設定もあります。

![テキストフィールドにはいくつかの詳細設定があります。](./forms-field-types-reference/images/14.png)

### 動作の変更：読み取り専用のフィールドIDが編集可能なフィールド名に置き換わりました

Liferay 7.3では、編集可能な構成のフィールド名が削除され、読み取り専用のフィールドIDが各フィールドの[詳細設定]タブに含まれるようになりました。 [フォームルール](../form-rules/form-rules-overview.md)から、またはプログラムでフィールドを参照する場合は、フィールドIDを使用します。

```{note}
フィールドIDは自動生成され、読み取り専用であるため、プログラムで予測したり使用したりすることが難しい、読者にとって使い勝手の悪い値になっています。 サードパーティ開発者のフォームのコードを書く能力を高めるために、Liferayの次回のバージョンでは、従来のフィールド名と同様に機能する新しい設定フィールドを導入する予定です。 フィールド参照がフィールド設定のUIに追加され、編集可能になります。これにより、サードパーティのコードで人間が読み取れる名前を参照することができます。
```

## フォームのフィールドと要素

### 説明文

これはフォーム上の静的なテキストで、フォーム作成者が入力します。 ユーザーは説明文フィールドにデータを入力しません。 これは、指示が長い場合に役立ちます。

![説明文フィールドは、長い指示を出すために使用できます。](./forms-field-types-reference/images/02.png)

### テキストフィールド

ユーザーはこれらのフィールドに自由形式のテキストを入力します。 たとえば、氏名フィールドはテキストフィールドです。 デフォルトでは、テキストフィールドはすべての入力を1行のテキストに保持します。 より長い応答に対応するには、[この例のように](./creating-forms.md)テキストフィールドを構成するときに複数行設定を選択します。 テキストフィールドの[検証オプション](./validating-text-and-numeric-field-entries.md)を使用して、ユーザーが入力できるテキスト（1〜10の数字、電子メールアドレスなど）を制限できます。

![複数行のテキストフィールドでは、ユーザーが複数の行を入力することができます。](./forms-field-types-reference/images/03.png)

### リストから選択

ユーザーは、選択肢のリストから1つ（または許可されている場合は複数）のオプションを選択します。 選択肢は手動で入力するか、[データプロバイダー](../data-providers/data-providers-overview.md)によって自動的に入力されます。 たとえば、居住国フィールドは、Countries of the Worldデータプロバイダーによって入力されたリストフィールドから選択できます。

![フォームの選択リストフィールドには、選択するオプションのドロップダウンリストがユーザーに表示されます。 ](./forms-field-types-reference/images/04.png)

### １つだけ選択

ユーザーは、ラジオボタンを使用して、フォームに表示されたオプションのリストから1つのオプションを選択します。

![単一選択フィールドは、ユーザーに複数の選択肢を表示し、その中から1つだけを選択できるようになっています。](./forms-field-types-reference/images/05.png)

### 日付

ユーザーは日付ピッカーを使用して日付を選択します。

![単一選択フィールドは、ユーザーに複数の選択肢を表示し、その中から1つだけを選択できるようになっています。](./forms-field-types-reference/images/06.png)

### 複数選択

ユーザーは、チェックボックス（または設定されている場合はトグル）から1つ以上のオプションを選択します。

![複数選択フィールドでは、ユーザーが表示された選択肢の中から複数選択することができます。](./forms-field-types-reference/images/07.png)

### グリッド

ユーザーは、ラジオボタンを使用して、行と列に配置されたオプションから選択します。 行ごとに1つの選択を行うことができます。 これは、複数の質問に同じ回答メトリックが必要な場合に役立ちます。

![グリッドフィールドでは、ユーザーが同じ回答オプションのリストから複数の問い合わせに回答できます。 ](./forms-field-types-reference/images/08.png)

### 数値

ユーザーは数値データ（整数または小数）を数値フィールドに入力します。 数字以外の入力は受け付けません。

![数値フィールドは、ユーザーの入力を数字（整数または小数）に限定します。](./forms-field-types-reference/images/09.png)

### アップロード

ユーザーは、ドキュメントとメディアライブラリからファイルを選択するか、ローカルファイルシステムからファイルをアップロードできます。

![アップロードフィールドでは、ユーザーがファイルをアップロードしたり、既存のドキュメントとメディアのエントリーから選択することができます。](./forms-field-types-reference/images/10.png)

Liferay 7.3 (DXP FP1以降およびCE GA7以降 )では、認証されていないゲストユーザーにファイルのアップロードを許可することができます。 フォームフィールドの設定でゲストのアップロードを有効にします。

![ゲストにファイルのアップロードを許可するかどうかを選択できます。](./forms-field-types-reference/images/16.png)

コントロールパネル：[システム設定] → [フォーム（コンテンツとデータ）] → [フォーム]で、または、`com.liferay.dynamic.data.mapping.form.web.internal.configuration.DDMFormWebConfiguration.config`という名前の[設定ファイル](../../../system-administration/configuring-liferay/configuration-files-and-factories/using-configuration-files.md)を作成して、ゲストのアップロード動作を設定します。

```{tip}
[インスタンススコープ](../../../system-administration/configuring-liferay/understanding-configuration-scope.md#scope-definitions)_でフォームアプリケーションを設定するには、[Instance Settings]のフォームエントリーを使用します。
```

**Guest Upload File Extensions（`guestUploadFileExtensions`）：** 受け入れられるファイル拡張子のコンマ区切りリストを入力します。  デフォルトでは以下のリストがサポートされています：`doc`、`docx`、`jpeg`、`jpg`、`pdf`、`png`、`ppt`、`pptx`、`tiff`、`txt`、`xls`、および`xlsx`。

**Guest Upload Maximum file Size（`guestUploadMaximumFileSize`）：**ゲストユーザがアップロードフィールドからアップロードできるファイルの最大サイズを設定します。 これは、ドキュメントとメディアアプリケーションの設定で、認証されたユーザーに対して設定され、システム全体の制限は、アップロードサーブレットリクエストシステム設定エントリーの「合計最大アップロードリクエストサイズ」というフィールドで定義されます。 デフォルトでは25MBに設定されています。

**Maximum Repetitions for Upload Fields（`maximumRepetitionsForUploadFields`）：**フィールドが繰り返し可能に設定されている場合、ユーザーがフィールドをフォームに追加できる最大回数を設定します (ゲスト ユーザーとログインしたユーザーに同じように適用されます)。 デフォルトでは5に設定されています。

**Maximum Submissions for Guest Upload Fields（`maximumSubmissionsForGuestUploadFields`）：**ゲストが使用可能なアップロード フィールドを含むフォームを、ゲスト ユーザーが送信できる最大回数を設定します。 ゲストユーザーのIPアドレスは、送信数の記録のために使用されます。 デフォルトでは5に設定されています。

### 画像

ユーザーは、Webコンテンツ画像、ドキュメントとメディアライブラリから画像ファイル（`.gif`、`.jpeg`、`.jpg`、`.png`）を選択したり、ローカルファイルシステムから画像ファイルをアップロードしたりすることができます。

![画像フィールドでは、ユーザーが画像をアップロードしたり、ドキュメントとメディア内にある画像やWebコンテンツ画像から選択することができます。](./forms-field-types-reference/images/11.png)

```{important}
ゲストユーザーは、画像へのアクセスやアップロードができません。 認証されたユーザーのみがフォームにアクセスできる場合を除き、このフィールドは使用しないでください。
```

### 色

ユーザーは、カラーピッカーから色を選択するか、コードを直接入力することで、色の16進コードを入力することができます。

![色フィールドでは、カラーピッカーで色フォームを選択すると、その色の16進数を入力することができます。](./forms-field-types-reference/images/13.png)

### リッチテキスト

ユーザーは、リッチテキストコンテンツ（フォーマットされたテキスト、埋め込まれた画像、添付ファイルなど）をフォームフィールドに入力することができます。

![リッチテキストフィールドでは、ユーザーは画像を埋め込んだフォーマット済みのテキストをフォームに書き込むことができます。 ](./forms-field-types-reference/images/12.png)

## 追加情報

  - [フォームの作成](./creating-forms.md)
