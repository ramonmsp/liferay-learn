# Webサーバーサービス（Nginx）

Nginx Webサーバーは、オープンインターネットからDXP Cloudサービスへのゲートウェイ として機能します。 ユーザーからのすべてのトラフィックを処理し、高性能なWebサーバーとして機能します。

![図1：Webサーバーは、DXP Cloudで利用可能ないくつかのサービスの1つです。](./web-server-service/images/01.png)

## 設定

DXP Cloudのサービスはデフォルトでうまく機能するように微調整されていますが、さらにNginxを設定する必要がある場合があります。 これを行うには、 `config` フォルダー内に任意のCONFファイルを含めることができます。 変更をデプロイすると、ファイルが自動的にサービスに挿入され、デフォルトの設定が上書きされます。 以下は、 `config` フォルダー内のそのようなファイルのフォルダー構造の例です。

    loadbalancer
    ├── config
    │ └── nginx.conf
    └── LCP.json

## 環境変数

このサービスには、DXP Cloudに固有の環境変数はありません。 Nginx の環境変数やその他の設定はすべて [公式の Nginx ドキュメント](https://docs.nginx.com/)にあります。 このような設定と環境変数は、それぞれ `config` ディレクトリと `LCP.json`で設定できます。

## スクリプト

スクリプトを使用して、より広範なカスタマイズを行うことができます。 ただし、その際は注意してください。 これは、Webサーバーサービスをカスタマイズする最も強力な方法であり、望ましくない副作用を引き起こす可能性があります。

`スクリプト` フォルダーにある `.sh` ファイルは、サービスを開始する前に実行されます。 たとえば、すべてのログファイルを削除するスクリプトを含めるには、次のディレクトリ構造に配置します。

    loadbalancer
    ├── script
    │ └── remove-log-files.sh
    └── LCP.json
